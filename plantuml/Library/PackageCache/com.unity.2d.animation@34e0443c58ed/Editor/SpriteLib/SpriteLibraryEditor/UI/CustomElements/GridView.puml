@startuml
class GridView <<partial>> {
    + GridView()
    + GridView(itemsSource:IList, makeItem:Func<VisualElement>, bindItem:Action<VisualElement, int>)
    + CancelDrag() : void
    + columnCount : int <<get>> <<set>>
    + itemHeight : int <<get>> <<set>>
    + itemSquare : bool <<get>> <<set>>
    + itemWidth : float <<get>>
    + resolvedItemHeight : float <<get>>
    + resolvedItemWidth : float <<get>>
    + selectedIndex : int <<get>> <<set>>
    + selectedItem : object <<get>>
    + allowNoSelection : bool <<get>> <<set>>
    + isSelecting : bool <<get>>
    + showBorder : bool <<get>> <<set>>
    + preventScrollWithModifiers : bool <<get>> <<set>>
    +  <<event>> itemsChosen : Action<IEnumerable<object>> 
    +  <<event>> selectionChanged : Action<IEnumerable<object>> 
    +  <<event>> selectedIndicesChanged : Action<IEnumerable<int>> 
    +  <<event>> contextClicked : Action<PointerDownEvent> 
    +  <<event>> doubleClicked : Action<int> 
    +  <<event>> dragStarted : Action<PointerMoveEvent> 
    +  <<event>> dragUpdated : Action<PointerMoveEvent> 
    +  <<event>> dragFinished : Action<PointerUpEvent> 
    +  <<event>> dragCanceled : Action 
    + AddToSelection(index:int) : void
    + ClearSelection() : void
    + ClearSelectionWithoutNotify() : void
    + Refresh() : void
    + RemoveFromSelection(index:int) : void
    + ScrollToItem(index:int) : void
    + SetSelection(index:int) : void
    + SetSelection(indices:IEnumerable<int>) : void
    + SetSelectionWithoutNotify(indices:IEnumerable<int>) : void
    + GetIndexByWorldPosition(worldPosition:Vector2) : int
}
enum GridOperations {
    None= 0,
    SelectAll= 1 << 0,
    Cancel= 1 << 1,
    Left= 1 << 2,
    Right= 1 << 3,
    Up= 1 << 4,
    Down= 1 << 5,
    Begin= 1 << 6,
    End= 1 << 7,
    Choose= 1 << 8,
}
class "Action`2"<T1,T2> {
}
class "Func`1"<T> {
}
class "IEnumerable`1"<T> {
}
class "Func`2"<T1,T2> {
}
class RecycledRow {
    + <<const>> kUndefinedIndex : int
    + RecycledRow(height:float)
    + firstIndex : int <<get>>
    + lastIndex : int <<get>>
    + ClearSelection() : void
    + ContainsId(id:int, indexInRow:int) : bool
    + ContainsIndex(index:int, indexInRow:int) : bool
    + SetSelected(indexInRow:int, selected:bool) : void
}
class "List`1"<T> {
}
BindableElement <|-- GridView
ISerializationCallbackReceiver <|-- GridView
GridView --> "scrollView" ScrollView
GridView --> "bindItem<VisualElement,int>" "Action`2"
GridView --> "dragger" Dragger
GridView o-> "operationMask" GridOperations
GridView --> "contentContainer" VisualElement
GridView --> "itemsSource" IList
GridView --> "makeItem<VisualElement>" "Func`1"
GridView --> "selectedIndices<int>" "IEnumerable`1"
GridView --> "selectedItems<object>" "IEnumerable`1"
GridView --> "selectedIds<int>" "IEnumerable`1"
GridView --> "selectionType" SelectionType
GridView --> "unbindItem<VisualElement,int>" "Action`2"
GridView --> "getItemId<int,int>" "Func`2"
GridView +-- GridOperations
GridView +-- RecycledRow
VisualElement <|-- RecycledRow
RecycledRow --> "ids<int>" "List`1"
RecycledRow --> "indices<int>" "List`1"
@enduml
